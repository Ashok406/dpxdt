{% extends 'base.html' %}

{% block description -%}

candidate description

{%- endblock description %}


{% block body %}

{% if run_list %}
    <div class="row">
        <div class="offset8 span2">
            0 / 25 complete
        </div>
        <div class="span2 text-right">
            5 failures
        </div>
    </div>
    {% for run in run_list %}
        <div class="row">
            <div class="span6 ellipsis-overflow" title="URL path">
                <a href="{{ url_for('view_run', id=build.id, name=release.name, number=release.number, path=run.name) }}">{{ run.name }}</a>
            </div>
            <div class="span2" title="Update time">
                <abbr title="Complete {{ release.created.strftime('%Y-%m-%dT%H:%MZ') }}">
                    {{ release.created|timesince }}
                </abbr>
            </div>
            <div class="span2" title="Test status">
                {% if run.status == 'diff_found' %}
                    <span class="text-error">Diff found</span>
                {% elif run.status == 'diff_not_found' %}
                    <span class="text-success">No diff found</span>
                {% elif run.status == 'needs_diff' %}
                    <span class="text-info">Diff pending</span>
                {% else %}
                    Diff not run
                {% endif %}
            </div>
            <div class="span2 text-right">
                {% if run.status == 'diff_found' %}
                    <span class="text-error test-result-mark">X</span>
                {% elif run.status == 'diff_not_found' %}
                    <span class="text-success test-result-mark">&#x2713;</span>
                {% elif run.status == 'needs_diff' %}
                    <span class="text-info test-result-mark">?</span>
                {% else %}
                    <span class="test-result-mark">&ndash;</span>
                {% endif %}
                {# TODO: Need indicator that diff was manually approved. #}
            </div>
        </div>
    {% endfor %}
{% else %}
    <div class="row">
        <div class="span6">
            <div class="alert alert-info alert-block">
                There are no test runs for this release candidate.
            </div>
        </div>
    </div>
{% endif %}

{% endblock body %}
